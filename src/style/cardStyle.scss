@use 'cardColor.scss';

@mixin center-flex{
    display: flex;

    align-items: center;
    justify-content: center;
}

@mixin card-layer($top, $mid, $back){
    .card-back{
        background: $back;
    }

    .card-mid{
        background: $mid;
    }

    .card-top{
        background-color: $top;
    }
}

@mixin prevent-select {
    -webkit-user-select: none; /* Safari */
    -ms-user-select: none; /* IE 10 and IE 11 */
    user-select: none; /* Standard syntax */
  }

.card-top{
    height: 29px;

    display: grid;

    grid-template-columns: auto auto;

    text-align: left;

    border-radius: 15px / 35px;

    background-color: cardColor.$uncolorLight;

    color: black;
    font-size: 27px;
    
    padding: {
        left: 2%;
        bottom: 2px;
    };

    filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));

        
    .card-title {    
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
    }

    .card-mana {
        text-align: right;
        
        img{
            height: 0.9lh;
            filter: 
                drop-shadow(-1px 1.5px 0px rgba(0, 0, 0, 1)) 
                drop-shadow(0px -0.3px 0px rgba(0, 0, 0, 1))
                drop-shadow(0.5px 0px 0px rgba(0, 0, 0, 1));
        }
    }
}


.card-mid{
    height: 31px;

    background: cardColor.$uncolorGradient;
    
    border-radius: 15px / 35px;
    
    padding: 2px;
}

.card-back{
    height: 33px;
    width: 100%;

    background-color: cardColor.$uncolor;
    
    border-radius: 15px / 30px;
    
    padding: 4px 5px 6px;
    
    box-shadow: 
        inset 0px -1px 0px rgba(255, 255, 255, 0.25),
        inset 0px 1px 0px rgba(255, 255, 255, 0.15);
    
    margin: 3px 3px 3px -3px;
    
    border: solid black 1px;
}

.card{
    width: 100%;
    font-family: 'Beleren';
    @include center-flex;
    @include prevent-select;
    &.red{ 
        @include card-layer(cardColor.$redLight, cardColor.$redGradient, cardColor.$red);
        &.green{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn, cardColor.$red, cardColor.$green));
            
            &.white, &.black, &.blue {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }
        }
        &.white{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn, cardColor.$red, cardColor.$white));

            &.blue, &.black, &.green {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }
        }
    }
    &.green{ 
        @include card-layer(cardColor.$greenLight, cardColor.$greenGradient, cardColor.$green);
        &.blue{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn, cardColor.$green, cardColor.$blue));
            
            &.white, &.black, &.red {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }
        }

        &.white{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn, cardColor.$green, cardColor.$white));

            &.blue, &.black, &.red {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }    
        }
    }

    &.white{ 
        @include card-layer(cardColor.$whiteLight, cardColor.$whiteGradient, cardColor.$white); 
        &.black{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn,cardColor.$white, cardColor.$black));
                
            &.blue, &.green, &.red {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }    
        }

        &.blue{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn,cardColor.$white, cardColor.$blue));
            
            &.black, &.green, &.red {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }    
        }

    }

    &.black{ 
        @include card-layer(cardColor.$blackLight, cardColor.$blackGradient, cardColor.$black); 
        &.red{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn, cardColor.$black, cardColor.$red));
                    
            &.white, &.green, &.blue {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }  
        }
        &.green{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn, cardColor.$black, cardColor.$green));    
            &.white, &.red, &.blue {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }  
        }
    }

    &.blue{ 
        @include card-layer(cardColor.$blueLight, cardColor.$blueGradient, cardColor.$blue); 
        &.red{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn,cardColor.$blue, cardColor.$red));
            &.white, &.black, &.green {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }  
        }
        &.black{ 
            @include card-layer(
                cardColor.$goldLight, 
                cardColor.$goldGradient, 
                linear-gradient(0.25turn,cardColor.$blue, cardColor.$black));
            &.white, &.red, &.green {
                @include card-layer(cardColor.$goldLight, cardColor.$goldGradient, cardColor.$gold);
            }  
        }
    }

    &.unco{ @include card-layer(cardColor.$uncolorLight, cardColor.$uncolorGradient, cardColor.$uncolor) }    
}

.card:hover ~ div > .card-image{
    opacity: 100%;
    visibility: visible;
}

.card-image{
    @include prevent-select;
    opacity: 0;
    visibility: hidden;
    position: absolute;
    height: 400px;
    width: auto;
    z-index: 1;
    transition: opacity 0.2s 0.2s ease-out, visibility 0.2s 0.2s ease-out;
}

.card-number{
    position: relative;
    @include center-flex;

    &-text{
        position: absolute;

        color: white;
        
        font-size: 25px;
        
        top: 55%;
        left: 45%;
        transform: translate(-50%, -50%);
    }
}